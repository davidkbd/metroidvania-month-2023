[gd_scene load_steps=43 format=3 uid="uid://dqvs4h4pm2ru7"]

[ext_resource type="Script" path="res://Ingame/game_objects/_abstract/level.gd" id="1_c54te"]
[ext_resource type="PackedScene" uid="uid://diqjdxqle3ann" path="res://Ingame/game_objects/room/parallax/parallax_layer.tscn" id="2_vpw7i"]
[ext_resource type="Texture2D" uid="uid://crlffvvvdwuty" path="res://Ingame/level-sprites/default/cavernaSlime.png" id="3_fuh8n"]
[ext_resource type="Texture2D" uid="uid://erqactl2ihou" path="res://Ingame/level-sprites/default/cavernaSlimeBG.png" id="4_j3vsp"]
[ext_resource type="PackedScene" uid="uid://dibcteanvf73m" path="res://Ingame/Particles/ambient_particles/ambient_particles.tscn" id="4_n3beu"]
[ext_resource type="Shader" path="res://fog.gdshader" id="4_o5l67"]
[ext_resource type="PackedScene" uid="uid://b68vcgdaf1ye3" path="res://Ingame/rooms/room_001.tscn" id="5_olijw"]
[ext_resource type="Texture2D" uid="uid://c464qp6x0o0cy" path="res://48x48.png" id="5_r0vl8"]
[ext_resource type="Texture2D" uid="uid://cc6x8cf1uayv5" path="res://Ingame/level-sprites/foreground/room_002_foreground01.png" id="6_nhmka"]
[ext_resource type="PackedScene" uid="uid://g8e6tumw718r" path="res://Ingame/rooms/room_001_secret.tscn" id="6_tc7rs"]
[ext_resource type="PackedScene" uid="uid://cbx4tsxjquwqb" path="res://Ingame/rooms/room_002.tscn" id="7_75ef1"]
[ext_resource type="Script" path="res://Ingame/rooms/room_002_secret.gd" id="8_x010g"]
[ext_resource type="PackedScene" uid="uid://ufd2cfmrsoav" path="res://Ingame/rooms/room_002_secret.tscn" id="9_l220f"]
[ext_resource type="PackedScene" uid="uid://qhf55h8w530v" path="res://Ingame/rooms/room_002_tunnel.tscn" id="10_dh8cp"]
[ext_resource type="PackedScene" uid="uid://b0vn0c2ckxsjs" path="res://Ingame/rooms/room_003.tscn" id="11_hgltt"]
[ext_resource type="PackedScene" uid="uid://brjkpj6nrt24k" path="res://Ingame/rooms/room_003_tunnel.tscn" id="12_po3mq"]
[ext_resource type="PackedScene" uid="uid://dgdmijka5t3dd" path="res://Ingame/rooms/room_004.tscn" id="13_dsqei"]
[ext_resource type="PackedScene" uid="uid://bssipoexjcdj8" path="res://Ingame/rooms/room_004_tunnel.tscn" id="14_s8mat"]
[ext_resource type="PackedScene" uid="uid://cwh0rcolcsywr" path="res://Ingame/rooms/room_006_tunnel.tscn" id="15_u1dht"]
[ext_resource type="PackedScene" uid="uid://ch2d3q3r6wopq" path="res://Ingame/rooms/room_006.tscn" id="16_uxsce"]
[ext_resource type="PackedScene" uid="uid://vofh41enak8e" path="res://Ingame/rooms/room_007.tscn" id="17_y2cyn"]
[ext_resource type="PackedScene" uid="uid://r6ep3ivwt7hn" path="res://Ingame/rooms/room_008.tscn" id="18_0mwn2"]
[ext_resource type="PackedScene" uid="uid://b1g4eesohqg5s" path="res://Ingame/rooms/room_009_tunnel.tscn" id="19_h3l0m"]
[ext_resource type="PackedScene" uid="uid://r5llypc0q34h" path="res://Ingame/rooms/room_009.tscn" id="20_t6n72"]
[ext_resource type="PackedScene" uid="uid://bknk6ojoxi6oq" path="res://Ingame/rooms/room_010_tunnel.tscn" id="22_j37te"]
[ext_resource type="PackedScene" uid="uid://ks3ubg31qgk4" path="res://Ingame/rooms/room_011.tscn" id="23_t6j15"]
[ext_resource type="PackedScene" uid="uid://brmrcub5p0ghi" path="res://Ingame/rooms/room_012_tunnel.tscn" id="24_q05xe"]
[ext_resource type="PackedScene" uid="uid://cjk42lw5hm8o6" path="res://Ingame/rooms/room_013.tscn" id="26_mqqgf"]
[ext_resource type="PackedScene" uid="uid://dj16u2b6a5btq" path="res://Ingame/rooms/room_014.tscn" id="27_dx7ie"]
[ext_resource type="PackedScene" uid="uid://bc0riwyt4qu3w" path="res://Ingame/rooms/room_015.tscn" id="28_th023"]
[ext_resource type="PackedScene" uid="uid://cmb5g5gqubu7r" path="res://Ingame/rooms/room_016.tscn" id="29_p3mn4"]
[ext_resource type="PackedScene" uid="uid://cujcjbladjywn" path="res://Ingame/rooms/room_016_tunnel.tscn" id="30_o7mk3"]
[ext_resource type="PackedScene" uid="uid://calchuynwmm1i" path="res://Ingame/rooms/room_017.tscn" id="31_2go6e"]
[ext_resource type="PackedScene" uid="uid://c15gnao1bqafu" path="res://Ingame/rooms/room_018.tscn" id="32_assd5"]
[ext_resource type="PackedScene" uid="uid://coewdtrff1jxy" path="res://Ingame/rooms/room_019.tscn" id="35_n8v53"]
[ext_resource type="PackedScene" uid="uid://b7xwlutiauugu" path="res://Ingame/rooms/room_020.tscn" id="36_i8745"]
[ext_resource type="PackedScene" uid="uid://c7vfkeqp830lf" path="res://Ingame/rooms/room_021.tscn" id="37_82fqi"]

[sub_resource type="Environment" id="Environment_mmnho"]
background_mode = 3
background_canvas_max_layer = 10
glow_enabled = true
glow_intensity = 3.5
glow_strength = 0.49
glow_bloom = 0.68
glow_blend_mode = 0
fog_light_energy = 2.82
adjustment_enabled = true
adjustment_brightness = 0.6
adjustment_contrast = 1.23

[sub_resource type="FastNoiseLite" id="FastNoiseLite_nqvhr"]
noise_type = 0
fractal_lacunarity = 1.695
fractal_gain = 0.61
fractal_weighted_strength = 0.29

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_wqn7o"]
seamless = true
noise = SubResource("FastNoiseLite_nqvhr")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_gnyp8"]
shader = ExtResource("4_o5l67")
shader_parameter/timescale = 0.1
shader_parameter/min_noise = 0.3
shader_parameter/max_noise = 0.8
shader_parameter/intensity = 0.3
shader_parameter/noise = SubResource("NoiseTexture2D_wqn7o")

[sub_resource type="GDScript" id="GDScript_uyqmg"]
script/source = "extends Sprite2D

@onready var mat : ShaderMaterial = material.duplicate()

func _ready() -> void:
	var noisetex : NoiseTexture2D = mat.get_shader_parameter(\"noise\").duplicate()
#	noise.noise.set(\"seed\", randi_range(1, 100))
	var noise : FastNoiseLite = FastNoiseLite.new()
	noise.seed = randi_range(1, 1000)
	noisetex.noise = noise
	mat.set_shader_parameter(\"noise\", noisetex)
	material = mat
"

[node name="level_001" type="Node2D" groups=["LEVEL"]]
texture_filter = 1
script = ExtResource("1_c54te")

[node name="DirectionalLight2D" type="DirectionalLight2D" parent="."]
energy = 0.34

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_mmnho")

[node name="parallax" type="Node" parent="."]

[node name="ParallaxBackground" type="ParallaxBackground" parent="parallax"]
follow_viewport_enabled = true
scroll_base_scale = Vector2(-1, -1)

[node name="first_room_bg" parent="parallax/ParallaxBackground" instance=ExtResource("2_vpw7i")]
motion_scale = Vector2(0.7, 0.7)

[node name="Sprite2D" type="Sprite2D" parent="parallax/ParallaxBackground/first_room_bg"]
light_mask = 0
texture_filter = 1
position = Vector2(-96, -48)
texture = ExtResource("3_fuh8n")
centered = false

[node name="first_room_particles" parent="parallax/ParallaxBackground" instance=ExtResource("2_vpw7i")]
motion_scale = Vector2(0.5, 0.5)

[node name="ambient_particles" parent="parallax/ParallaxBackground/first_room_particles" instance=ExtResource("4_n3beu")]
light_mask = 0
position = Vector2(320, 192)
scale_amount_min = 0.2
scale_amount_max = 1.0

[node name="first_room_particles2" parent="parallax/ParallaxBackground" instance=ExtResource("2_vpw7i")]
motion_scale = Vector2(0.3, 0.3)

[node name="ambient_particles" parent="parallax/ParallaxBackground/first_room_particles2" instance=ExtResource("4_n3beu")]
light_mask = 0
position = Vector2(320, 192)
scale_amount_min = 0.4
scale_amount_max = 1.2

[node name="Fog3" type="CanvasLayer" parent="parallax"]
layer = -90
follow_viewport_enabled = true
follow_viewport_scale = 0.8

[node name="fog" type="Sprite2D" parent="parallax/Fog3"]
texture_filter = 1
texture_repeat = 2
material = SubResource("ShaderMaterial_gnyp8")
position = Vector2(112, 112)
scale = Vector2(16, 16)
texture = ExtResource("5_r0vl8")
region_enabled = true
region_rect = Rect2(0, 0, 10000, 10000)
script = SubResource("GDScript_uyqmg")

[node name="Fog2" type="CanvasLayer" parent="parallax"]
layer = -90
follow_viewport_enabled = true
follow_viewport_scale = 0.7

[node name="fog" type="Sprite2D" parent="parallax/Fog2"]
modulate = Color(0.541176, 0.541176, 0.541176, 1)
texture_filter = 1
texture_repeat = 2
material = SubResource("ShaderMaterial_gnyp8")
position = Vector2(112, 112)
scale = Vector2(16, 16)
texture = ExtResource("5_r0vl8")
region_enabled = true
region_rect = Rect2(0, 0, 10000, 10000)
script = SubResource("GDScript_uyqmg")

[node name="Fog1" type="CanvasLayer" parent="parallax"]
layer = -90
follow_viewport_enabled = true
follow_viewport_scale = 0.6

[node name="fog" type="Sprite2D" parent="parallax/Fog1"]
modulate = Color(0.403922, 0.403922, 0.403922, 1)
texture_filter = 1
texture_repeat = 2
material = SubResource("ShaderMaterial_gnyp8")
position = Vector2(112, 112)
scale = Vector2(16, 16)
texture = ExtResource("5_r0vl8")
region_enabled = true
region_rect = Rect2(0, 0, 10000, 10000)
script = SubResource("GDScript_uyqmg")

[node name="Fog4" type="CanvasLayer" parent="parallax"]
layer = 5
visible = false
follow_viewport_enabled = true
follow_viewport_scale = 1.1

[node name="fog" type="Sprite2D" parent="parallax/Fog4"]
texture_filter = 1
texture_repeat = 2
material = SubResource("ShaderMaterial_gnyp8")
position = Vector2(112, 112)
scale = Vector2(16, 16)
texture = ExtResource("5_r0vl8")
region_enabled = true
region_rect = Rect2(0, 0, 10000, 10000)
script = SubResource("GDScript_uyqmg")

[node name="ParallaxForeground" type="ParallaxBackground" parent="parallax"]
layer = 1
follow_viewport_enabled = true
scroll_base_scale = Vector2(-1, -1)

[node name="first_room_particles" parent="parallax/ParallaxForeground" instance=ExtResource("2_vpw7i")]
motion_scale = Vector2(-0.3, -0.3)

[node name="ambient_particles" parent="parallax/ParallaxForeground/first_room_particles" instance=ExtResource("4_n3beu")]

[node name="first_room_roots" parent="parallax/ParallaxForeground" instance=ExtResource("2_vpw7i")]
motion_scale = Vector2(-1.1, -1.1)

[node name="Sprite2D" type="Sprite2D" parent="parallax/ParallaxForeground/first_room_roots"]
texture_filter = 1
position = Vector2(-480, -248)
texture = ExtResource("4_j3vsp")
centered = false

[node name="room_002_foreground" type="ParallaxLayer" parent="parallax/ParallaxForeground"]
position = Vector2(3368, -408)
motion_scale = Vector2(-0.04, -0.04)

[node name="Sprite2D" type="Sprite2D" parent="parallax/ParallaxForeground/room_002_foreground"]
position = Vector2(744, -320)
texture = ExtResource("6_nhmka")

[node name="room_001_secret" parent="." instance=ExtResource("6_tc7rs")]
position = Vector2(0, 32)

[node name="room_001" parent="." instance=ExtResource("5_olijw")]
metadata/_edit_lock_ = true

[node name="room_002" parent="." instance=ExtResource("7_75ef1")]
position = Vector2(1896, 32)
script = ExtResource("8_x010g")

[node name="room_002_secret" parent="." instance=ExtResource("9_l220f")]
position = Vector2(1800, 32)

[node name="room_002_tunnel" parent="." instance=ExtResource("10_dh8cp")]
position = Vector2(1320, 32)

[node name="room_003" parent="." instance=ExtResource("11_hgltt")]
position = Vector2(5472, -1600)
script = ExtResource("8_x010g")

[node name="room_003_tunnel" parent="." instance=ExtResource("12_po3mq")]
position = Vector2(6856, -1600)

[node name="room_004" parent="." instance=ExtResource("13_dsqei")]
position = Vector2(5472, -2432)

[node name="room_004_tunnel" parent="." instance=ExtResource("14_s8mat")]
position = Vector2(6856, -2880)

[node name="room_006_tunnel" parent="." instance=ExtResource("15_u1dht")]
position = Vector2(9448, -640)

[node name="room_006" parent="." instance=ExtResource("16_uxsce")]
position = Vector2(9984, -2944)

[node name="room_007" parent="." instance=ExtResource("17_y2cyn")]
position = Vector2(9376, 480)

[node name="room_008" parent="." instance=ExtResource("18_0mwn2")]
position = Vector2(7648, 480)

[node name="room_009_tunnel" parent="." instance=ExtResource("19_h3l0m")]
position = Vector2(12360, -4064)

[node name="room_009" parent="." instance=ExtResource("20_t6n72")]
position = Vector2(15072, -5312)

[node name="room_010_tunnel" parent="." instance=ExtResource("22_j37te")]
position = Vector2(16992, -3936)

[node name="room_011" parent="." instance=ExtResource("23_t6j15")]
position = Vector2(18016, -5632)

[node name="room_012_tunnel" parent="." instance=ExtResource("24_q05xe")]
position = Vector2(17664, -7304)

[node name="room_013" parent="." instance=ExtResource("26_mqqgf")]
position = Vector2(12032, -6912)

[node name="room_014" parent="." instance=ExtResource("27_dx7ie")]
position = Vector2(16608, -8704)

[node name="room_015" parent="." instance=ExtResource("28_th023")]
position = Vector2(18816, -8608)

[node name="room_016" parent="." instance=ExtResource("29_p3mn4")]
position = Vector2(20224, -8608)

[node name="room_016_tunnel" parent="." instance=ExtResource("30_o7mk3")]
position = Vector2(22528, -7208)

[node name="room_017" parent="." instance=ExtResource("31_2go6e")]
position = Vector2(23680, -8512)

[node name="room_018" parent="." instance=ExtResource("32_assd5")]
position = Vector2(20448, -4064)

[node name="room_019" parent="." instance=ExtResource("35_n8v53")]
position = Vector2(22528, -4608)

[node name="room_020" parent="." instance=ExtResource("36_i8745")]
position = Vector2(24608, -4608)

[node name="room_021" parent="." instance=ExtResource("37_82fqi")]
position = Vector2(20224, -7136)
